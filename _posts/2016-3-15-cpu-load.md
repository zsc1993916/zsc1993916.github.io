---
layout: post
title: CPU负载和使用率
categories: Linux
tags: Linux, 底层运维
---

####概念
- __CPU使用率__：显示的是程序在运行期间实时占用的CPU百分比
- __CPU负载__：显示的是一段时间内正在使用和等待使用CPU的平均任务数


在Linux系统中，`uptime`、`w`、`top`、`vmstat`等命令都会有系统平均负载__load average__的输出
load average显示的三个数值 分别是：前一分钟，五分钟，十五分钟的平均CPU负载


####CPU负载监控
通常情况下一般采取0.7的法则，即当为4核cpu的时候，cpu的整体负载不要超过4*0.7=2.8。
由于在使用命令时可以提供三个cpu的负载平均值，那么以哪个为准呢？其实在实际的监测
过程中，只要cpu的负载在5分钟或是15分中内较低就可以了，因为有时在1分中确实会上升的很快。

####CPU负载和利用率之间的关系

CPU使用率高，并不意味着负载就一定大。CPU的工作负载越大，代表CPU必须要在不同的工作之间
进行频繁的工作切换。

CPU使用率和运算量有关。

Ps: CPU负载过高可以简单的理解为CPU堵车


cpu的负载和利用率之间没有必然的联系，有时会出现负载过高，但利用率不高的情况。
例如，有大量的并发任务，但是每个任务的cpu占有率却很低，这时就会出现cpu负载过
高利用率低下的问题。同样也会出现cpu的利用率很高，但cpu负载很低的现象。

系统负载突然增高，但是内存的使用量没有变化，这个时候应该考虑更加深入的原因，通常在考虑cpu负载的过程中要看内存、I/O、网络方面的问题，这样看看变化的值是哪些就能确定问题的可能范围。


---